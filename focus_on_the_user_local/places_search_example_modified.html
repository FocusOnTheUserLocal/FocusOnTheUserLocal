
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Google Maps JavaScript API v3 Example: Place Search</title>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=true&libraries=places"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="maps_places_util.js"></script>

    <style>
      #new_map {
        height: 400px;
        width: 600px;
        border: 1px solid #333;
        margin-top: 0.6em;
      }
    </style>
 
    <script type="text/javascript">
        $(function() {
          console.log('init');
          function afterGeoLocate(geo_loc) {
              map_geo_loc = geo_loc; // save it for globals
              init_map(geo_loc);

              infowindow = new google.maps.InfoWindow();
              places_service = new google.maps.places.PlacesService(new_map);
              addMapPointer('Opaque', function(result_info) {
                      add_marker(result_info.location, result_info.name);
                  }, function() {});
              addMapPointer('Gary Danko', function(result_info) {
                      add_marker(result_info.location, result_info.name);
                  }, function() {});
          }
          setMapLocation('San Francisco, CA', afterGeoLocate);
        });
    </script>
  </head>
  <body>
    <div id="new_map"></div>
    <div id="text">
      <pre>
      </pre>
  </body>
</html>
